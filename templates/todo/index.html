<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>todo</title>
    <link rel="stylesheet" href="/static/css/todo_index.css">

    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

    <!-- 可选的Bootstrap主题文件（一般不用引入） -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <script type="text/javascript" src="/static/js/jquery-3.0.0.min.js"></script>

    <script type="text/javascript" src="/static/js/todo.js"></script>

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>

    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <!-- jQuery-form plugins） -->
    <script type="text/javascript" src="/static/js/jquery.form.js"></script>

</head>
<body>






<div class="container-fluid">

    <div class="col-xs-12 col-sm-8 col-sm-offset-2">

        <h1 class="text-center">Todo List
            <small>Beta</small>
        </h1>


        <div class="user_input">
            <form class="ajax-form" action="{{ url_for('.add') }}" method="post" class="form-horizontal" role="form" class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1">
                    <div class="input-group">
                        <input type="text" name="task" class="form-control" id="inputTodo" placeholder="输入 Todo">
                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-primary" type="button">
                                <span class="glyphicon glyphicon-ok"></span>
                            </button>
                        </span>

                    </div><!-- /input-group -->
                </div><!-- /.col-lg-6 -->
            </form>
        </div>
        <br><br>



        <h4>正在进行 <span class="badge">{{ unfinished_num }}</span> </h4>
        {% for todo in todo_list if todo.done == 'False' %}

            <div class="panel panel-default row">
                <div class="panel-body task_content" id="task_{{ todo.id }}">


                    <form action="{{ url_for('.update', id=todo.id) }}" method="post">
                        <input  class="form-control" style="background:transparent;border:0;box-shadow:0 0 0 0;" type="text" name="task" value="{{ todo.task }}">
                    </form>

                    <div class="delete">
                        <a href="{{ url_for('.delete', id=todo.id) }}">
                            <button type="button" class="close">
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </a>
                    </div>
                </div>
                <div class="panel-footer small task_footer">
                    {{ todo.created_time | format_time }}

                    <!--
                    <div id="edit"><a href="{{ url_for('.edit', id=todo.id) }}">修改</a></div>
                     -->

                    <div class="complete">
                    <a href="{{ url_for('.complete', id=todo.id) }}">
                        <button class="btn btn-sm active" type="button" style="background:transparent;border:0;box-shadow:0 0 0 0;">
                            <code>.finished</code>
                        </button>
                    </a>
                </div>
                </div>


            </div>
        {% endfor %}

        <h4>已完成 <span class="badge">{{ finished_num }}</span></h4>
        {% for todo in todo_list if todo.done != 'False' %}

        <div class="panel panel-default row">
                <div class="panel-body task_content" id="task_{{ todo.id }}">


                    <form action="{{ url_for('.update', id=todo.id) }}" method="post">
                        <input  class="form-control" style="background:transparent;border:0;box-shadow:0 0 0 0;" type="text" name="task" value="{{ todo.task }}">
                    </form>

                    <div class="delete">
                        <a href="{{ url_for('.delete', id=todo.id) }}">
                            <button type="button" class="close">
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </a>
                    </div>
                </div>
                <div class="panel-footer small task_footer">
                    {{ todo.created_time | format_time }}

                    <!--
                    <div id="edit"><a href="{{ url_for('.edit', id=todo.id) }}">修改</a></div>
                     -->
                    {{ todo.done }}
                    <div class="complete">
                    <a href="{{ url_for('.undo_complete', id=todo.id) }}">
                        <button class="btn btn-sm active" type="button" style="background:transparent;border:0;box-shadow:0 0 0 0;">
                            <code>.unfinished</code>
                        </button>
                    </a>
                </div>
                </div>


        </div>
        {% endfor %}


    </div>
</div>



</body>
</html>
